spring:
  docker:
    compose:
      enabled: ${DOCKER_COMPOSE_ENABLED:false}
      file: ${DOCKER_COMPOSE_FILE_BILLING_SERVICE:file:infrastructure/dev/billing-service/compose.yaml}
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${BILLING_DB_HOST:localhost}:${BILLING_DB_PORT:3311}/${BILLING_DB_NAME:billing_db}
    username: ${BILLING_DB_USERNAME:myuser}
    password: ${BILLING_DB_PASSWORD:secret}
  jpa:
    properties:
      hibernate.dialect: org.hibernate.dialect.MySQLDialect
    hibernate:
      ddl-auto: update
    show-sql: true

server:
  port: ${BILLING_SERVICE_PORT:8087}

eureka:
  instance:
    prefer-ip-address: true
  client:
    serviceUrl:
      defaultZone: http://${DISCOVERY_SERVICE_HOST:localhost}:${DISCOVERY_SERVICE_PORT:8761}/eureka/

# Feign client timeouts
feign:
  client:
    config:
      default:
        connectTimeout: 5000
        readTimeout: 5000

# VNPay configuration
vnpay:
  tmn-code: ${VNPAY_TMN_CODE:DEMO}
  hash-secret: ${VNPAY_HASH_SECRET:DEMO_SECRET}
  pay-url: ${VNPAY_PAY_URL:https://sandbox.vnpayment.vn/paymentv2/vpcpay.html}
  api-url: ${VNPAY_API_URL:https://sandbox.vnpayment.vn/merchant_webapi/api/transaction}
  return-url: ${VNPAY_RETURN_URL:http://localhost:3000/payment/result}
  ipn-url: ${VNPAY_IPN_URL:http://localhost:8080/api/payments/vnpay-ipn}
  expire-minutes: ${VNPAY_EXPIRE_MINUTES:15}
